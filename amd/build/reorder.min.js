define(["jquery"],function(a){"use strict";function b(b){var c=a(b.currentTarget),d=parseInt(c.data("lastPosition"),10),e=parseInt(c.val(),10);if(d!==e){var f=null,g=a("select.moveto");if(g.each(function(){var b=a(this);if(b.attr("id")!==c.attr("id")&&parseInt(b.val(),10)===e)return f=b.closest(".fitem"),!1}),f){var h=c.closest(".fitem");e<d?h.insertBefore(f):h.insertAfter(f),g=a("select.moveto"),g.each(function(b){var c=a(this),d=b+1;c.data("lastPosition",d),c.val(d),c.closest(".fitem").find(".localprofile-number").html(d)}),h.removeClass("localprofile-flash").addClass("localprofile-flash")}}}return{init:function(){var c=a("#region-main form");c.find("select.moveto").each(function(){var b=a(this);b.data("lastPosition",b.val())}),c.on("change","select.moveto",b)}}});